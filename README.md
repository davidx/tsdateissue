# Intro 
 This repo is to reproduce an issue experienced in the ruby client of riak ts.
 Timestamp values seem to be parsed for serialization incorrectly even though the data is correct.
 example: "1970-01-15 14:07:14.699999999 -08:00" 
 
# Setup
```
git clone git@github.com:davidx/tsdateissue.git
cd tsdateissue
bundle 
```
# Create schema
```
bundle exec rake create_schema
```
# Load data 
```
bundle exec rake load_data
```
# Read data
```
bundle exec rake read_data
```

```
- !ruby/array:Riak::TimeSeries::Row
  - NASDAQ
  - AAPL
  - 1970-01-15 14:07:14.699999999 -08:00
  - 318.81
  - 318.81
  - 318.52
  - 318.6
  - 140566

```

# riak-shell
```
riak-shell
SELECT * FROM market_data   WHERE time > 1286787600  AND         time < 1289235000 AND         market='NASDAQ' AND         ticker='AAPL'


|NASDAQ| AAPL |1289232600|3.18790000000000020464e+02|3.18870000000000004547e+02|3.18379999999999995453e+02|3.18670000000000015916e+02|528207 |
|NASDAQ| AAPL |1289232900|3.18639999999999986358e+02|3.18850000000000022737e+02|3.18350000000000022737e+02|3.18750000000000000000e+02|582549 |
|NASDAQ| AAPL |1289233200|3.18759999999999990905e+02|3.19019999999999981810e+02|3.18740000000000009095e+02|3.18810000000000002274e+02| 14487 |
|NASDAQ| AAPL |1289233500|3.18810000000000002274e+02|3.18810000000000002274e+02|3.18810000000000002274e+02|3.18810000000000002274e+02|  200  |
|NASDAQ| AAPL |1289233800|3.18589999999999974989e+02|3.18759999999999990905e+02|3.18560000000000002274e+02|3.18759999999999990905e+02| 3561  |
|NASDAQ| AAPL |1289234100|3.18699999999999988631e+02|3.18699999999999988631e+02|3.18410000000000025011e+02|3.18500000000000000000e+02| 4841  |
|NASDAQ| AAPL |1289234400|3.18509999999999990905e+02|3.18810000000000002274e+02|3.18509999999999990905e+02|3.18699999999999988631e+02| 5244  |
|NASDAQ| AAPL |1289234700|3.18810000000000002274e+02|3.18810000000000002274e+02|3.18519999999999981810e+02|3.18600000000000022737e+02|140566 |
+------+------+----------+--------------------------+--------------------------+--------------------------+--------------------------+-------+


```
